# Borrar todos los contenedores
docker rm -f $(docker ps -a -q)

# Comando conjunto
docker rm -f $(docker ps -a -q); docker-compose up --build


############ ANGULAR ##############
# Compilar la aplicacion Angular con: ng build --prod --aot=false
# El resultado estara en la carpeta /angular/dist y lo deberemos copiar a /docker/angular/app
# Ojo, no se puede usar el modificador '--aot' porque hay algunas librerias que no son compatibles

docker rm -f $(docker ps -a -q)
docker build -t apache2 .
docker run -dit -p 4200:80 --rm --name angular apache2

############## API ################
# Al mover el JAR a la carpeta /docker/api recordar que el JAR no debe generar la base de datos
# La base de datos ya estara previamente cargada en otro contenedor a traves de un archivo SQL

docker rm -f $(docker ps -a -q)
docker build -t api .
docker run -it --rm --name api_spring api


